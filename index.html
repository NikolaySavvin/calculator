<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="viewport" content="initial-scale=1 , user-scalable=no, maximum-scale=1, width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css">

    <title>Калькулятор льгот ТОР</title>
  </head>
  <body style="background-color: #f2efeb">

    <div style="background-color: #f2efeb">
 <div class="container p-3">
    <div class="row">
        <div class="col-md-3 col-xs-12 d-flex flex-column">
            <h6>Прибыль предприятия за год работы, руб.</h6>
            <input class="inp1" type="number" name="">
		</div>  
		
        <div class="col-md-3 col-xs-12 d-flex flex-column">
            <h6>Среднегодовая стоимость осн. средств, руб.</h6>
            <input class="inp2" type="number" name="">
 		</div>  
		
        <div class="col-md-3 col-xs-12 d-flex flex-column">
            <h6>Кадастровая стоимость зем. участка, руб.</h6>
            <input class="inp3" type="number" name="">
		</div>  	

        <div class="col-md-3 col-xs-12 d-flex flex-column">
            <h6>Годовой фонд оплаты труда работников, руб.</h6>
            <input class="inp4" type="number" name="">
		</div>  
    </div>

        <div class="pt-3">

          <div class="d-flex">

            <div class="dropdown col-6">
              <button class="btn btn-secondary dropdown-toggle text-uppercase font-weight-bold calcul" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                 Расчитать
              </button>
              <div class="dropdown-menu p-0" aria-labelledby="dropdownMenuButton">
                <button class="text-uppercase font-weight-bold font-italic p-2 rounded border border-dark bg-secondary text-white dropdown-item year-1">За 1 год</button>
                <button class="text-uppercase font-weight-bold font-italic p-2 rounded border border-dark bg-secondary text-white dropdown-item year-5">За 5 лет</button>
                <button class="text-uppercase font-weight-bold font-italic p-2 rounded border border-dark bg-secondary text-white dropdown-item year-10">За 10 лет</button>
              </div>
            </div>

<!--
            <div class="col-6 text-right">
              <button class="btn btn-secondary text-uppercase font-weight-bold switcher">
                ОСН/УСН
              </button>
            </div>
-->
          </div>
        </div>

        <div class="d-flex pb-3">
          <div class="col-5 pl-1 pt-3">
            <h5>Налог:</h5>
          </div>
          <div class="col-4 pl-1 pt-3">
            <h5>Без ТОР:</h5>
          </div>
          <div class="col-4 pl-1 pt-3">
            <h5>С ТОР:</h5>
          </div>
        </div>

        <div class="d-flex">
          <div class="col-5 pl-1">
            <p>На прибыль:</p>
          </div>
		  <div class="col-4 pl-1 d-flex flex-column">
            <div class="col-12 btn20-result">0 руб.</div>
			<center><p><sup>20%</sup></p></center>
		  </div>  
		  <div class="col-4 pl-1 d-flex flex-column">
            <div class="col-12 btn01-result">0 руб.</div>
			<center><p><sup>0% первые 5 лет, 12% следующие 5 лет</sup></p></center>
		  </div>
        </div>

        <div class="d-flex">
          <div class="col-5 pl-1">
            <p>На имущество:</p>
          </div>
          <div class="col-4 pl-1 btn22-result">0 руб.</div>
          <div class="col-4 pl-1 btn02-result">0 руб.</div>
        </div>

        <div class="d-flex">
          <div class="col-5 pl-1">
            <p>На землю:</p>
          </div>
          <div class="col-4 pl-1 btn15-result">0 руб.</div>
          <div class="col-4 pl-1 btn03-result">0 руб.</div>
        </div>

        <div class="d-flex">
          <div class="col-5 pl-1">
            <p>Страховые взносы:</p>
          </div>
          <div class="col-4 pl-1 btn30-result">0 руб.</div>
          <div class="col-4 pl-1 btn76-result">0 руб.</div>
        </div>
      </div>


      <div style="background-color: #de4e4e" class="d-flex flex-column container p-0 rounded-lg shadow mt-2">
          <div class="p-2 d-flex">
            <div class="col-5 pl-1">
              <h5 class="text-white pt-2">Итого:</h5>
            </div>
			<div class="col-4 pl-1 total2 text-white font-weight-bold pt-2">0 руб.</div>
            <div class="col-4 pl-1 total1 text-white font-weight-bold pt-2">0 руб.</div>
          </div>
          <div class="p-2 d-flex">
            <div class="col-5 pl-1">
              <h5 class="text-white pt-2">Экономия:</h5>
            </div>
			<div class="col-4 pl-1 text-white font-weight-bold pt-2">0 руб.</div>
            <div class="col-4 pl-1 saving1 text-white font-weight-bold pt-2">0 руб.</div>
		  </div>
        </div>
      </div>
    </div>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

    <script type="text/javascript">

      let inp1 = document.querySelector(".inp1");
      let inp2 = document.querySelector(".inp2");
      let inp3 = document.querySelector(".inp3");
      let inp4 = document.querySelector(".inp4");

      let year1 = document.querySelector(".year-1");
      let year5 = document.querySelector(".year-5");
      let year10 = document.querySelector(".year-10");

      let result20 = document.querySelector(".btn20-result");
      let result01 = document.querySelector(".btn01-result");
      let result22 = document.querySelector(".btn22-result");
      let result02 = document.querySelector(".btn02-result");
      let result15 = document.querySelector(".btn15-result");
      let result03 = document.querySelector(".btn03-result");
      let result30 = document.querySelector(".btn30-result");
      let result76 = document.querySelector(".btn76-result");

      let saving1 = document.querySelector(".saving1");
      let total1 = document.querySelector(".total1");
      let total2 = document.querySelector(".total2");
      let calcul = document.querySelector(".calcul");
/*
      let switcher = document.querySelector(".switcher");

      let switchhelper = 0;

      switcher.onclick = function(){
        if (switchhelper == 0) {
          switchhelper = switchhelper+1;
		  switcher.innerHTML = "УСН";
          result20.style.display = "none";
          result01.style.display = "none";
          result22.style.display = "none";
          result02.style.display = "none";
        }else{
          switchhelper = switchhelper-1
		  switcher.innerHTML = "ОСН";
          result20.style.display = "block";
          result01.style.display = "block";
          result22.style.display = "block";
          result02.style.display = "block";
        }
      }
*/
function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
}
      year1.onclick = function(){
        let value20 = inp1.value * 20 / 100;
        let rounded20 = Math.round(value20);
        result20.innerHTML = numberWithCommas(rounded20) + " "+"руб.";
        result01.innerHTML = numberWithCommas(inp1.value * 0) + " "+"руб.";
        let value22 = inp2.value * 2.2 / 100;
        let rounded22 = Math.round(value22);
        result22.innerHTML = numberWithCommas(rounded22) + " "+"руб.";
        result02.innerHTML = numberWithCommas(inp2.value * 0) + " "+"руб.";
        let value15 = inp3.value * 1.5 / 100;
        let rounded15 = Math.round(value15);
        result15.innerHTML = numberWithCommas(rounded15) + " "+"руб.";
        result03.innerHTML = numberWithCommas(inp3.value * 0) + " "+"руб.";
        let value30 = inp4.value * 30 / 100;
        let rounded30 = Math.round(value30);
        result30.innerHTML = numberWithCommas(rounded30) + " "+"руб.";
        let value76 = inp4.value * 7.6 / 100;
        let rounded76 = Math.round(value76);
        result76.innerHTML = numberWithCommas(rounded76) + " "+"руб.";

        let valuetotal1 = inp4.value * 7.6 / 100;
        let roundedtotal1 = Math.round(valuetotal1);
        total1.innerHTML = numberWithCommas(roundedtotal1) + " "+"руб.";

        let valuetotal2 = ((inp1.value * 20 / 100)+(inp2.value * 2.2 / 100))+((inp3.value * 1.5 / 100)+(inp4.value * 30 / 100));
        let roundedtotal2 = Math.round(valuetotal2);
        total2.innerHTML = numberWithCommas(roundedtotal2) + " "+"руб.";

        let valuesaving = ((inp1.value * 20 / 100)+(inp2.value * 2.2 / 100))+((inp3.value * 1.5 / 100)+((inp4.value * 30 / 100)-(inp4.value * 7.6 / 100)));
        let roundedsaving = Math.round(valuesaving);
        saving1.innerHTML = numberWithCommas(roundedsaving) + " "+"руб.";

        calcul.innerHTML = "1 год";
      }

      year5.onclick = function(){
        let value20 = inp1.value * 20 / 100 * 5;
        let rounded20 = Math.round(value20);
        result20.innerHTML = numberWithCommas(rounded20) + " "+"руб.";
        result01.innerHTML = numberWithCommas(inp1.value * 0) + " "+"руб.";
        let value22 = inp2.value * 2.2 / 100 * 5;
        let rounded22 = Math.round(value22);
        result22.innerHTML = numberWithCommas(rounded22) + " "+"руб.";
        result02.innerHTML = numberWithCommas(inp2.value * 0) + " "+"руб.";
        let value15 = inp3.value * 1.5 / 100*5;
        let rounded15 = Math.round(value15);
        result15.innerHTML = numberWithCommas(rounded15) + " "+"руб.";
        result03.innerHTML = numberWithCommas(inp3.value * 0) + " "+"руб.";
        let value30 = inp4.value * 30 / 100*2;
        let rounded30 = Math.round(value30);
        result30.innerHTML = numberWithCommas(rounded30) + " "+"руб.";
        let value76 = inp4.value * 7.6 / 100*5;
        let rounded76 = Math.round(value76);
        result76.innerHTML = numberWithCommas(rounded76) + " "+"руб.";

        let valuetotal1 = inp4.value * 7.6 / 100*5;
        let roundedtotal1 = Math.round(valuetotal1);
        total1.innerHTML = numberWithCommas(roundedtotal1) + " "+"руб.";

        let valuetotal2 = ((inp1.value * 100 / 100)+(inp2.value * 11 / 100))+((inp3.value * 7.5 / 100)+(inp4.value * 60 / 100));
        let roundedtotal2 = Math.round(valuetotal2);
        total2.innerHTML = numberWithCommas(roundedtotal2) + " "+"руб.";

        let valuesaving = ((inp1.value * 100 / 100)+(inp2.value * 11 / 100))+((inp3.value * 7.5 / 100)+((inp4.value * 30 / 100 * 2)-(inp4.value * 7.6 / 100 * 5)));
        let roundedsaving = Math.round(valuesaving);
        saving1.innerHTML = numberWithCommas(roundedsaving) + " "+"руб.";

        calcul.innerHTML = "5 лет";
      }

      year10.onclick = function(){
        let value20 = inp1.value * 20 / 100 * 10;
        let rounded20 = Math.round(value20);
        result20.innerHTML = numberWithCommas(rounded20) + " "+"руб.";
        let value01 = inp1.value * 12 / 100 * 5;
        let rounded01 = Math.round(value01);
        result01.innerHTML = numberWithCommas(rounded01) + " "+"руб.";
        let value22 = inp2.value * 2.2 / 100 * 10;
        let rounded22 = Math.round(value22);
        result22.innerHTML = numberWithCommas(rounded22) + " "+"руб.";
        let value02 = inp2.value * 2.2 / 100 * 5;
        let rounded02 = Math.round(value02);
        result02.innerHTML = numberWithCommas(rounded02) + " "+"руб.";
        let value15 = inp3.value * 1.5 / 100 * 10;
        let rounded15 = Math.round(value15);
        result15.innerHTML = numberWithCommas(rounded15) + " "+"руб.";
        let value03 = inp3.value * 1.5 / 100 * 5;
        let rounded03 = Math.round(value03);
        result03.innerHTML = numberWithCommas(rounded03) + " "+"руб.";
        let value30 = inp4.value * 30 / 100 * 10;
        let rounded30 = Math.round(value30);
        result30.innerHTML = numberWithCommas(rounded30) + " "+"руб.";
        let value76 = inp4.value * 7.6 / 100 * 10;
        let rounded76 = Math.round(value76);
        result76.innerHTML = numberWithCommas(rounded76) + " "+"руб.";

        let valuetotal1 = (inp4.value * 76 / 100)+(inp3.value * 7.5 / 100)+(inp2.value * 11 / 100)+(inp1.value * 60 / 100);
        let roundedtotal1 = Math.round(valuetotal1);
        total1.innerHTML = numberWithCommas(roundedtotal1) + " "+"руб.";

        let valuetotal2 = (((inp1.value * 200 / 100)+(inp2.value * 22 / 100))+((inp3.value * 15 / 100)+(inp4.value * 300 / 100)));
        let roundedtotal2 = Math.round(valuetotal2);
        total2.innerHTML = numberWithCommas(roundedtotal2) + " "+"руб.";

        let valuesaving = (((inp1.value * 200 / 100)-(inp1.value * 60 / 100))+((inp2.value * 22 / 100)-(inp2.value * 11 / 100)))+(((inp3.value * 15 / 100)-(inp3.value * 7.5 / 100))+((inp4.value * 300 / 100)-(inp4.value * 76 / 100)));
        let roundedsaving = Math.round(valuesaving);
        saving1.innerHTML = numberWithCommas(roundedsaving) + " "+"руб.";

        calcul.innerHTML = "10 лет";
      }
      
    </script>
  </body>
</html>
